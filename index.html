<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Job Application Tracker Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body class="bg-gray-50 font-sans text-gray-800">

    <nav class=" border-gray-200 px-6 py-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-blue-900">Job Application Tracker</h1>
    </nav>

    <main class="max-w-6xl mx-auto p-6">
        
        <section class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col ">
                <h3 class="text-gray-500 font-medium mb-1">Total</h3>
                <p id="dash-total" class="text-3xl font-bold text-gray-800">0</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col">
                <h3 class="text-gray-500 font-medium mb-1">Interview</h3>
                <p id="dash-interview" class="text-3xl font-bold text-green-600 ">0</p>
            </div>
            <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex flex-col">
                <h3 class="text-gray-500 font-medium mb-1">Rejected</h3>
                <p id="dash-rejected" class="text-3xl font-bold text-red-600">0</p>
            </div>
        </section>

        <section class="">
            
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-xl font-bold text-blue-900">Available Jobs</h2>
                <span id="tab-wise-count" class=" text-gray-600 px-3 text-sm font-medium">0 Jobs</span>
            </div>

            <div class="flex gap-4 mb-6">
                <button onclick="changeTab('all')" id="tab-all" class="px-4 py-2 rounded-md text-sm font-medium transition-all bg-blue-600 text-white">All</button>
                
                <button onclick="changeTab('interview')" id="tab-interview" class="px-4 py-2 rounded-md text-sm font-medium transition-all text-gray-500 hover:bg-gray-100 hover:text-gray-700">Interview</button>
                
                <button onclick="changeTab('rejected')" id="tab-rejected" class="px-4 py-2 rounded-md text-sm font-medium transition-all text-gray-500 hover:bg-gray-100 hover:text-gray-700">Rejected</button>
            </div>

            <div id="empty-state" class="hidden flex flex-col items-center justify-center py-16">
                <img src="./jobs.png" alt="No jobs icon" class="w-32 h-32 object-contain mb-4">
                <h3 class="text-xl font-bold text-blue-900">No jobs Available</h3>
                <p class="text-gray-400 mt-2 text-center">Check back soon for new job opportunities</p>
            </div>

            <div id="jobs-container" class="grid grid-cols-1 md:grid-cols-1 gap-2">
            </div>

        </section>
    </main>

    <script>
        // Start state
        let currentTab = 'all'; 
        
        // Job data
        let jobs = [
            { id: 1, companyName: "Mobile First Corp", position: "React Native Developer", location: "Remote", type: "Full-time", salary: "$130,000 - $175,000", description: "Build cross-platform mobile applications using React Native. Work on products used by millions of users worldwide.", status: "unassigned" },
            { id: 2, companyName: "WebFlow Agency", position: "Web Designer & Developer", location: "Los Angeles, CA", type: "Part-time", salary: "$80,000 - $120,000", description: "Create stunning web experiences for high-profile clients. Must have portfolio and experience with modern web design trends.", status: "unassigned" },
            { id: 3, companyName: "DataViz Solutions", position: "Data Visualization Specialist", location: "Boston, MA", type: "Full-time", salary: "$125,000 - $165,000", description: "Transform complex data into compelling visualizations. Required skills:D3.js, React, and strong analytical thinking.", status: "unassigned" },
            { id: 4, companyName: "CloudFirst Inc", position: "Backend Developer", location: "Seattle, WA", type: "Full-time", salary: "$140,000 - $190,000", description: "Design and maintain scalable backend systems using Python and AWS. Work with modern DevOps practices and cloud infrastructure.", status: "unassigned" },
            { id: 5, companyName: "Innovation Labs", position: "UI/UX Engineer", location: "Austin, TX", type: "Full-time", salary: "$110,000 - $150,000", description: "Create beautiful and functional user interfaces for our suite of products, Strong design skills and frontend development expertise required.", status: "unassigned" },
            { id: 6, companyName: "MegaCorp Solutions ", position: "JavaScript Developer", location: "New York, NY", type: "Full-time", salary: "$130,000 - $170,000", description: "Build enterprise applications with JavaScript and  modern frameworks. We offer competitive compensation, health insurance, and professional development opportunities.", status: "unassigned" },
            { id: 7, companyName: "StartupXYZ", position: "Full Stack Engineer", location: "Remote", type: "Full-time", salary: "$120,000 - $160,000", description: "Join our fast-growing startup and work on our core platform. Experience with Node.js and React required. Great benefits and equity package included.", status: "unassigned" },
            { id: 8, companyName: "TechCorp Industries", position: "Senior Frontend Developer", location: "San Francisco, CA", type: "Full-time", salary: "$130,000 - $175,000", description: "We are looking for an experienced Frontend Developer to build scalable web applications using React and TypeScript. You will work with a talented team on cutting-edge projects .", status: "unassigned" }
        ];

        // Start app
        function init() {
            renderDashboard();
            renderJobs();
        }

        // Change tab
        function changeTab(tabName) {
            currentTab = tabName.toLowerCase(); 
            let tabs = ['all', 'interview', 'rejected'];
            
            for (let i = 0; i < tabs.length; i++) {
                let t = tabs[i];
                // Use concat instead of +
                let tabId = 'tab-'.concat(t);
                let btn = document.getElementById(tabId);
                
                if (t === currentTab) {
                    btn.className = "px-4 py-2 rounded-md text-sm font-medium transition-all bg-blue-600 text-white";
                } else {
                    btn.className = "px-4 py-2 rounded-md text-sm font-medium transition-all text-gray-500 hover:bg-gray-100 hover:text-gray-700";
                }
            }

            renderJobs();
        }

        // Update job
        function updateJobStatus(id, newStatus) {
            let jobIndex = -1;
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].id === id) {
                    jobIndex = i;
                    break;
                }
            }

            if (jobIndex !== -1) {
                jobs[jobIndex].status = newStatus;
                renderDashboard();
                renderJobs(); 
            }
        }

        // Delete job
        function deleteJob(id) {
            let remainingJobs = [];
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].id !== id) {
                    remainingJobs.push(jobs[i]);
                }
            }
            jobs = remainingJobs;
            
            renderDashboard();
            renderJobs();
        }

        // Show numbers
        function renderDashboard() {
            document.getElementById('dash-total').innerText = jobs.length;
            
            let interviewCount = 0;
            let rejectedCount = 0;
            
            for (let i = 0; i < jobs.length; i++) {
                if (jobs[i].status === 'interview') {
                    interviewCount++;
                } else if (jobs[i].status === 'rejected') {
                    rejectedCount++;
                }
            }
            
            document.getElementById('dash-interview').innerText = interviewCount;
            document.getElementById('dash-rejected').innerText = rejectedCount;
        }

        // Show jobs
        function renderJobs() {
            let container = document.getElementById('jobs-container');
            let emptyState = document.getElementById('empty-state');
            container.innerHTML = '';

            // Filter jobs
            let filteredJobs = [];
            for (let i = 0; i < jobs.length; i++) {
                if (currentTab === 'all') {
                    filteredJobs.push(jobs[i]);
                } else if (currentTab === 'interview' && jobs[i].status === 'interview') {
                    filteredJobs.push(jobs[i]);
                } else if (currentTab === 'rejected' && jobs[i].status === 'rejected') {
                    filteredJobs.push(jobs[i]);
                }
            }

            // Use join instead of +
            let jobCountText = [filteredJobs.length, "Jobs"].join(" ");
            document.getElementById('tab-wise-count').innerText = jobCountText;

            // Show empty state or jobs
            if (filteredJobs.length === 0) {
                emptyState.classList.remove('hidden');
            } else {
                emptyState.classList.add('hidden');
                
                for (let i = 0; i < filteredJobs.length; i++) {
                    let job = filteredJobs[i];
                    let card = document.createElement('div');
                    
                    let displayStatus = "";
                    if (job.status === 'unassigned') {
                        displayStatus = "NOT APPLIED";
                    } else {
                        displayStatus = job.status;
                    }

                    // Button colors
                    let interviewClass = "px-6 py-2 rounded border-2 text-xs font-bold transition uppercase tracking-wide ";
                    if (job.status === 'interview') {
                        interviewClass = interviewClass.concat("bg-[#10B981] text-white border-[#10B981]");
                    } else {
                        interviewClass = interviewClass.concat("bg-white text-[#10B981] border-[#10B981] hover:bg-[#10B981] hover:text-white");
                    }

                    let rejectedClass = "px-6 py-2 rounded border-2 text-xs font-bold transition uppercase tracking-wide ";
                    if (job.status === 'rejected') {
                        rejectedClass = rejectedClass.concat("bg-[#EF4444] text-white border-[#EF4444]");
                    } else {
                        rejectedClass = rejectedClass.concat("bg-white text-[#EF4444] border-[#EF4444] hover:bg-[#EF4444] hover:text-white");
                    }
                    
                    // Build HTML without + and without backticks
                    let htmlParts = [
                        '<div class="relative bg-white p-6 rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-shadow mb-4">',
                            '<button onclick="deleteJob(', job.id, ')" class="absolute top-4 right-4 text-gray-400 hover:text-red-500 border border-gray-100 p-2 rounded-full transition">',
                                '<i class="fa-solid fa-trash-can text-sm"></i>',
                            '</button>',

                            '<div class="mb-4">',
                                '<h3 class="text-xl font-bold text-[#002D58]">', job.companyName, '</h3>',
                                '<p class="text-lg text-gray-500 font-medium">', job.position, '</p>',
                            '</div>',

                            '<div class="flex flex-wrap items-center gap-2 text-gray-500 text-sm mb-4 font-medium">',
                                '<span>', job.location, '</span>',
                                '<span class="text-gray-300">•</span>',
                                '<span>', job.type, '</span>',
                                '<span class="text-gray-300">•</span>',
                                '<span>', job.salary, '</span>',
                            '</div>',

                            '<div class="mb-4">',
                                '<span class="inline-block bg-[#EDF3FF] text-[#002D58] px-3 py-1 rounded text-[15px] font uppercase tracking-wider">',
                                    displayStatus,
                                '</span>',
                            '</div>',

                            '<p class="text-gray-600 text-sm leading-relaxed mb-6">',
                                job.description,
                            '</p>',

                            '<div class="flex gap-3">',
                                '<button onclick="updateJobStatus(', job.id, ', \'interview\')" class="', interviewClass, '">',
                                    'interview',
                                '</button>',
                                '<button onclick="updateJobStatus(', job.id, ', \'rejected\')" class="', rejectedClass, '">',
                                    'rejected',
                                '</button>',
                            '</div>',
                        '</div>'
                    ];

                    // Join array to string
                    card.innerHTML = htmlParts.join('');
                    container.appendChild(card);
                }
            }
        }
        
        // Run code
        init();
    </script>
</body>
</html>